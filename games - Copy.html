<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Birthday Games</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #fffbf0;
    color: #444;
    margin: 0; padding: 0;
  }
  header {
    background: #ff4081;
    color: white;
    padding: 1rem;
    text-align: center;
    font-size: 1.8rem;
  }
  nav {
    background: #f8bbd0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    padding: 10px 0;
  }
  nav button {
    background: white;
    border: 2px solid #ff4081;
    border-radius: 6px;
    padding: 10px 15px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s;
  }
  nav button:hover, nav button.active {
    background: #ff4081;
    color: white;
  }
  main {
    padding: 20px;
    max-width: 900px;
    margin: 0 auto;
  }
  .game {
    display: none;
  }
  .game.active {
    display: block;
  }

  .messages-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
    gap: 20px;
    margin-top: 20px;
  }
  .card {
    perspective: 1000px;
    cursor: pointer;
  }
  .card-inner {
    position: relative;
    width: 100%;
    height: 150px;
    text-align: center;
    transition: transform 0.6s;
    transform-style: preserve-3d;
  }
  .card.flipped .card-inner {
    transform: rotateY(180deg);
    cursor: default;
  }
  .card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 150px;
    border-radius: 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 15px;
    box-sizing: border-box;
  }
  .card-front {
    background: #ff4081;
    color: white;
    font-size: 1.3rem;
    font-weight: 700;
  }
  .card-back {
    background: #fff0f6;
    color: #ff4081;
    transform: rotateY(180deg);
    font-size: 1rem;
    font-style: italic;
    line-height: 1.3;
  }

  #popBalloons {
    position: relative;
    min-height: 350px;
  }
  .balloon {
    position: absolute;
    width: 70px;
    height: 100px;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    user-select: none;
    transition: transform 0.2s ease;
  }
  .balloon:hover {
    transform: scale(1.1);
  }
  .balloon-string {
    width: 2px;
    height: 35px;
    background: #555;
    border-radius: 1px;
    margin-top: -5px;
  }

  .red { background: linear-gradient(135deg, #ff6b6b, #e63946); }
  .blue { background: linear-gradient(135deg, #6ec1e4, #1d3557); }
  .yellow { background: linear-gradient(135deg, #ffe066, #ffca3a); }
  .green { background: linear-gradient(135deg, #6bcf79, #2a9d8f); }
  .purple { background: linear-gradient(135deg, #9d4edd, #5f3dc4); }
  .orange { background: linear-gradient(135deg, #ffb677, #ff8c42); }

  .popped {
    animation: popAnim 0.3s forwards;
  }
  @keyframes popAnim {
    0% { transform: scale(1) rotate(0deg); opacity: 1; }
    100% { transform: scale(0) rotate(180deg); opacity: 0; }
  }

  #confetti {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    overflow: visible;
    z-index: 1000;
  }

  #specialMessage {
    margin-top: 20px;
    font-size: 1.4rem;
    color: #ff4081;
    font-weight: bold;
    text-align: center;
  }

  /* Memory Match specific adjustments */
  #memoryMatch .messages-grid {
    grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
  }

  #memoryMatch .card {
    height: 100px;
  }

  #memoryMatch .card-front,
  #memoryMatch .card-back {
    height: 100px;
    font-size: 1.3rem;
  }

  #memoryMatch .card-back {
    font-size: 2.2rem;
  }


#cakeArea {
  display: flex;
  justify-content: center;
  margin: 30px 0;
  position: relative;
  height: 300px;
}

#cake {
  width: 200px;
  height: 150px;
  background: linear-gradient(to top, #ffe0e0, #ffb6b6);
  border-radius: 20px 20px 10px 10px;
  position: relative;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

#decorationsBar {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

.decoration {
  font-size: 2rem;
  cursor: grab;
  user-select: none;
  padding: 5px;
  border: 2px dashed #ff4081;
  border-radius: 10px;
  background: #fff0f6;
  transition: transform 0.2s;
}
.decoration:active {
  cursor: grabbing;
  transform: scale(1.2);
}

#cakeArea .dropped {
  position: absolute;
  font-size: 2rem;
  pointer-events: none;
}

</style>
</head>
<body>

<header>üéâ Birthday Games Extravaganza üéâ</header>

<nav id="gameSelector">
  <button data-game="guessMessages">Guess the Messages</button>
  <button data-game="popBalloons" class="active">Pop the Balloons</button>
  <button data-game="memoryMatch">Memory Match</button>
  <button data-game="decorateCake">Decorate the Cake</button>
  <button data-game="singAlong">Sing Along Challenge</button>
  <button data-game="unwrapGift">Gift Unwrap Surprise</button>
  <button data-game="memoryQuiz">Which Memory is Real?</button>
</nav>

<main>
  <section id="guessMessages" class="game">
    <h2>Guess the Birthday Messages</h2>
    <p>Click each card to reveal a sweet birthday message just for you!</p>
    <div class="messages-grid" id="messagesGrid"></div>
  </section>

  <section id="popBalloons" class="game active">
    <h2>Pop the Balloons</h2>
    <p>Click the balloons to pop them! Find the special one for a surprise üéâ</p>
    <div id="balloonContainer" style="position:relative; height:350px; user-select:none;"></div>
    <div id="specialMessage"></div>
  </section>

  <section id="memoryMatch" class="game">
    <h2>Memory Match</h2>
    <p>Find all the matching pairs by flipping the cards!</p>
    <div id="memoryGrid" class="messages-grid"></div>
  </section>

  <section id="decorateCake" class="game">
    <h2>Decorate the Cake</h2>
    <p>Drag the decorations onto the cake to make it special!</p>

  <div id="cakeArea">
    <div id="cake"></div>
  </div>

  <div id="decorationsBar">
    <div class="decoration" draggable="true">üïØÔ∏è</div>
    <div class="decoration" draggable="true">üçì</div>
    <div class="decoration" draggable="true">üç´</div>
    <div class="decoration" draggable="true">üç¨</div>
    <div class="decoration" draggable="true">üéâ</div>
    <div class="decoration" draggable="true">üéÇ</div>
    <div class="decoration" draggable="true">üíñ</div>
  </div>
<div style="text-align: center; margin-top: 20px;">
    <button id="doneCakeBtn" style="
      background: #ff4081; 
      color: white; 
      border: none; 
      padding: 10px 20px; 
      font-size: 1rem; 
      border-radius: 6px; 
      cursor: pointer;
      transition: background 0.3s;">
      Done
    </button>
  </div>

</section>
</p>
  </section>

  <section id="singAlong" class="game">
    <h2>Sing Along Challenge</h2>
    <p>Game UI will go here.</p>
  </section>

  <section id="unwrapGift" class="game">
    <h2>Gift Unwrap Surprise</h2>
    <p>Game UI will go here.</p>
  </section>

  <section id="memoryQuiz" class="game">
    <h2>Which Memory is Real?</h2>
    <p>Game UI will go here.</p>
  </section>
</main>

<div id="confetti"></div>

<script>
  const buttons = document.querySelectorAll('#gameSelector button');
  const games = document.querySelectorAll('.game');
  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const target = button.getAttribute('data-game');
      buttons.forEach(btn => btn.classList.remove('active'));
      games.forEach(game => game.classList.remove('active'));
      button.classList.add('active');
      document.getElementById(target).classList.add('active');
    });
  });

  const balloonColors = ['red', 'blue', 'yellow', 'green', 'purple', 'orange'];
  const balloonContainer = document.getElementById('balloonContainer');
  const specialMessage = document.getElementById('specialMessage');
  let poppedCount = 0;
  let totalBalloons = 24;

  function randomPosition(maxWidth, maxHeight) {
    return {
      x: Math.random() * (maxWidth - 80),
      y: Math.random() * (maxHeight - 110)
    };
  }

  function createConfetti() {
    const confettiContainer = document.getElementById('confetti');
    for(let i=0; i<100; i++){
      const confetto = document.createElement('div');
      confetto.style.position = 'absolute';
      confetto.style.width = '8px';
      confetto.style.height = '8px';
      confetto.style.backgroundColor = balloonColors[Math.floor(Math.random() * balloonColors.length)];
      confetto.style.left = Math.random() * window.innerWidth + 'px';
      confetto.style.top = Math.random() * window.innerHeight + 'px';
      confetto.style.opacity = 1;
      confetto.style.transform = `rotate(${Math.random()*360}deg)`;
      confetto.style.animation = `confettiFall 3s ease forwards`;
      confettiContainer.appendChild(confetto);
      setTimeout(() => {
        confettiContainer.removeChild(confetto);
      }, 3000);
    }
  }

  const style = document.createElement('style');
  style.textContent = `
    @keyframes confettiFall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1;}
      100% { transform: translateY(300px) rotate(360deg); opacity: 0;}
    }
  `;
  document.head.appendChild(style);

  function createBalloons() {
    balloonContainer.innerHTML = '';
    poppedCount = 0;
    specialMessage.textContent = '';
    const specialBalloonIndex = Math.floor(Math.random() * totalBalloons);
    for(let i=0; i<totalBalloons; i++){
      const balloon = document.createElement('div');
      balloon.classList.add('balloon', balloonColors[i % balloonColors.length]);
      const pos = randomPosition(balloonContainer.clientWidth || 900, 350);
      balloon.style.left = pos.x + 'px';
      balloon.style.top = pos.y + 'px';
      const string = document.createElement('div');
      string.className = 'balloon-string';
      balloon.appendChild(string);
      balloonContainer.appendChild(balloon);
      balloon.addEventListener('click', () => {
        if (balloon.classList.contains('popped')) return;
        balloon.classList.add('popped');
        poppedCount++;
        if(i === specialBalloonIndex){
          specialMessage.textContent = "üéâ You are the sunshine in my world! Happy Birthday! üéâ";
          createConfetti();
        }
        if(poppedCount === totalBalloons){
          specialMessage.textContent += " üéÇ All balloons popped! Have an amazing birthday! üéÇ";
          createConfetti();
        }
      });
    }
  }

  createBalloons();

  const messages = [
    "Happy Birthday to the one who makes every day an adventure!",
    "Your smile lights up every room you enter. Love you so much!",
    "May your year ahead overflow with love, laughter, and joy.",
    "To my dearest, thank you for being my forever sunshine.",
    "Wishing you all the happiness your heart can hold today and always.",
    "You are the reason birthdays feel so magical. Stay amazing!",
    "Every moment with you is a gift I cherish. Happy Birthday!",
    "May your dreams sparkle and your heart be full on this special day."
  ];
  const messagesGrid = document.getElementById('messagesGrid');
  function createCard(message, index) {
    const card = document.createElement('div');
    card.className = 'card';
    card.tabIndex = 0;
    card.innerHTML = `
      <div class="card-inner">
        <div class="card-front">üéÅ Birthday Message #${index + 1}</div>
        <div class="card-back">${message}</div>
      </div>
    `;
    card.addEventListener('click', () => card.classList.add('flipped'));
    card.addEventListener('keydown', (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        card.classList.add('flipped');
      }
    });
    return card;
  }
  messages.forEach((msg, i) => {
    messagesGrid.appendChild(createCard(msg, i));
  });

  const memoryGrid = document.getElementById('memoryGrid');
  const memoryImages = ['üéÇ','üéÅ','üéà','üéâ','üç∞','üßÅ','üéä','üç¨'];
  let memoryCards = [...memoryImages, ...memoryImages];
  let memoryFirstCard = null;
  let memoryLock = false;
  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }
  function createMemoryCard(icon, index) {
    const card = document.createElement('div');
    card.className = 'card';
    card.tabIndex = 0;
    card.innerHTML = `
      <div class="card-inner">
        <div class="card-front">?</div>
        <div class="card-back">${icon}</div>
      </div>
    `;
    card.addEventListener('click', () => {
      if (memoryLock || card.classList.contains('flipped')) return;
      card.classList.add('flipped');
      if (!memoryFirstCard) {
        memoryFirstCard = card;
      } else {
        const secondCard = card;
        const firstIcon = memoryFirstCard.querySelector('.card-back').textContent;
        const secondIcon = secondCard.querySelector('.card-back').textContent;
        if (firstIcon === secondIcon) {
          memoryFirstCard = null;
        } else {
          memoryLock = true;
          setTimeout(() => {
            memoryFirstCard.classList.remove('flipped');
            secondCard.classList.remove('flipped');
            memoryFirstCard = null;
            memoryLock = false;
          }, 1000);
        }
      }
    });
    return card;
  }
  function initMemoryGame() {
    memoryGrid.innerHTML = '';
    shuffle(memoryCards);
    memoryCards.forEach((icon, index) => {
      memoryGrid.appendChild(createMemoryCard(icon, index));
    });
  }
  initMemoryGame();

 const decorations = document.querySelectorAll('.decoration');
const cake = document.getElementById('cake');

decorations.forEach(item => {
  item.addEventListener('dragstart', (e) => {
    e.dataTransfer.setData('text/plain', item.textContent);
  });
});

cake.addEventListener('dragover', (e) => {
  e.preventDefault();
});

cake.addEventListener('drop', (e) => {
  e.preventDefault();
  const emoji = e.dataTransfer.getData('text/plain');
  const dropped = document.createElement('div');
  dropped.className = 'dropped';
  dropped.textContent = emoji;
  const rect = cake.getBoundingClientRect();
  dropped.style.left = (e.clientX - rect.left - 10) + 'px';
  dropped.style.top = (e.clientY - rect.top - 20) + 'px';
  cake.appendChild(dropped);
});
</script>

</body>
</html>
